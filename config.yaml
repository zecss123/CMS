# CMSæŒ¯åŠ¨åˆ†æç³»ç»Ÿç»Ÿä¸€é…ç½®æ–‡ä»¶
# æ‰€æœ‰å¯è‡ªå®šä¹‰çš„è®¾ç½®éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®

# ==================== æ¨¡å‹é…ç½® ====================
model:
  # æ¨¡å‹ç±»å‹: "openai" | "local" | "deepseek_api" | "custom"
  type: "local"
  
  # OpenAIé…ç½® (å½“typeä¸º"openai"æ—¶ä½¿ç”¨)
  openai:
    api_key: "sk-jietr0JnMJyFu8JHE4F6268dA5Bb4fF7Bd2122D388374738"
    base_url: "https://oneapi.xty.app/v1"  # å¯ä¿®æ”¹ä¸ºå…¶ä»–å…¼å®¹çš„APIç«¯ç‚¹
    model_name: "gpt-3.5-turbo"
    max_tokens: 4096
    temperature: 0.7
    timeout: 30
  
  # æœ¬åœ°æ¨¡å‹é…ç½® (å½“typeä¸º"local"æ—¶ä½¿ç”¨)
  local:
    model_name: "deepseek-7b"
    model_path: "/root/autodl-tmp/models/deepseek-7b"  # æœ¬åœ°æ¨¡å‹è·¯å¾„
    max_length: 4096
    temperature: 0.7
    top_p: 0.9
    device: "auto"  # auto, cuda, cpu
    load_in_8bit: false  # æ˜¯å¦ä½¿ç”¨8bité‡åŒ–
    load_in_4bit: false  # æ˜¯å¦ä½¿ç”¨4bité‡åŒ–
  
  # DeepSeek APIé…ç½® (å½“typeä¸º"deepseek_api"æ—¶ä½¿ç”¨)
  deepseek_api:
    api_key: "sk-a2590db6f1334022983b08ecf157e6b5"
    base_url: "https://api.deepseek.com/v1"
    model_name: "deepseek-chat"
    max_tokens: 4096
    temperature: 0.7
  
  # è‡ªå®šä¹‰æ¨¡å‹é…ç½® (å½“typeä¸º"custom"æ—¶ä½¿ç”¨)
  custom:
    api_key: "your-custom-api-key"
    base_url: "http://localhost:8000/v1"  # è‡ªå®šä¹‰APIç«¯ç‚¹
    model_name: "custom-model"
    max_tokens: 4096
    temperature: 0.7
    headers:  # è‡ªå®šä¹‰è¯·æ±‚å¤´
      Authorization: "Bearer your-token"
      User-Agent: "CMS-RAG-System"

# ==================== åµŒå…¥æ¨¡å‹é…ç½® ====================
embedding:
  # åµŒå…¥æ¨¡å‹ç±»å‹: "huggingface" | "openai" | "local"
  type: "huggingface"
  
  # HuggingFaceæ¨¡å‹é…ç½®
  huggingface:
    model_name: "sentence-transformers/all-MiniLM-L6-v2"
    device: "auto"
    cache_dir: "/root/autodl-tmp/models/embeddings"
    local_files_only: true  # å¼ºåˆ¶ä½¿ç”¨æœ¬åœ°æ–‡ä»¶ï¼Œé¿å…ç½‘ç»œè¿æ¥é—®é¢˜
    fallback_to_simple: true  # å¦‚æœæœ¬åœ°æ¨¡å‹ä¸å­˜åœ¨ï¼Œä½¿ç”¨ç®€å•æ–‡æœ¬åµŒå…¥
  
  # OpenAIåµŒå…¥é…ç½®
  openai:
    api_key: "your-openai-api-key-here"
    model_name: "text-embedding-ada-002"
  
  # æœ¬åœ°åµŒå…¥æ¨¡å‹é…ç½®
  local:
    model_path: "/path/to/local/embedding/model"
    device: "auto"

# ==================== å‘é‡æ•°æ®åº“é…ç½® ====================
vector_db:
  type: "chroma"  # chroma, faiss, pinecone
  persist_directory: "./data/vector_db"
  collection_name: "cms_vibration_knowledge"
  chunk_size: 500
  chunk_overlap: 50
  max_results: 10

# ==================== çŸ¥è¯†åº“é…ç½® ====================
knowledge:
  # çŸ¥è¯†åº“å­˜å‚¨è·¯å¾„
  embeddings_path: "./data/knowledge/embeddings"
  metadata_path: "./data/knowledge/metadata"
  
  # æ–‡æ¡£å¤„ç†é…ç½®
  document_processing:
    chunk_size: 500
    chunk_overlap: 50
    supported_formats: [".pdf", ".docx", ".txt", ".md"]
  
  # æ£€ç´¢é…ç½®
  retrieval:
    top_k: 5
    similarity_threshold: 0.7
    rerank: false

# ==================== æ•°æ®åº“é…ç½® ====================
database:
  # æ•°æ®åº“ç±»å‹: "sqlite" | "postgresql" | "mysql"
  type: "sqlite"
  
  # SQLiteé…ç½® (å¼€å‘ç¯å¢ƒæ¨è)
  sqlite:
    path: "./data/cms_data.db"
  
  # PostgreSQLé…ç½® (ç”Ÿäº§ç¯å¢ƒæ¨è)
  postgresql:
    host: "localhost"
    port: 5432
    database: "cms_vibration"
    username: "cms_user"
    password: "your-password"
    pool_size: 10
    max_overflow: 20
  
  # MySQLé…ç½®
  mysql:
    host: "localhost"
    port: 3306
    database: "cms_vibration"
    username: "cms_user"
    password: "your-password"
    charset: "utf8mb4"

# ==================== å¤–éƒ¨APIé…ç½® ====================
external_api:
  # æ˜¯å¦å¯ç”¨å¤–éƒ¨APIè°ƒç”¨
  enabled: false
  
  # CMSç³»ç»ŸAPIé…ç½®
  cms_api:
    base_url: "https://api.cms-system.com"
    api_key: "your-cms-api-key"
    timeout: 30
    retry_times: 3
    endpoints:
      trend_analysis: "/api/v1/analysis/trend"
      vibration_data: "/api/v1/data/vibration"
      chart_generation: "/api/v1/charts/generate"
  
  # ç¬¬ä¸‰æ–¹æ•°æ®æºAPI
  data_source:
    base_url: "https://api.windfarm-data.com"
    api_key: "your-data-api-key"
    timeout: 30

# ==================== Streamlitç•Œé¢é…ç½® ====================
streamlit:
  # æ˜¯å¦å¯ç”¨Streamlitç•Œé¢
  enabled: true
  
  # ç•Œé¢é…ç½®
  page_title: "CMSæŒ¯åŠ¨åˆ†ææŠ¥å‘Šç³»ç»Ÿ"
  page_icon: "ğŸ”§"
  layout: "wide"
  initial_sidebar_state: "expanded"
  
  # æœåŠ¡å™¨é…ç½®
  server:
    port: 8501
    host: "0.0.0.0"
    max_upload_size: 200  # MB
  
  # åŠŸèƒ½å¼€å…³
  features:
    chat_interface: true
    file_upload: true
    report_download: true
    data_visualization: true

# ==================== ç³»ç»Ÿé…ç½® ====================
system:
  # é¡¹ç›®æ ¹ç›®å½• (ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„)
  project_root: "./"
  
  # æ•°æ®ç›®å½•
  data_dir: "./data"
  
  # è¾“å‡ºç›®å½•
  output_dir: "./output"
  
  # æ—¥å¿—é…ç½®
  logging:
    level: "INFO"  # DEBUG, INFO, WARNING, ERROR
    format: "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} - {message}"
    rotation: "10 MB"
    retention: "7 days"
    log_file: "./logs/cms_rag.log"
  
  # ç¼“å­˜é…ç½®
  cache:
    enabled: true
    type: "memory"  # memory, redis, file
    ttl: 3600  # ç¼“å­˜è¿‡æœŸæ—¶é—´(ç§’)
    max_size: 1000  # æœ€å¤§ç¼“å­˜æ¡ç›®æ•°
  
  # Redisé…ç½® (å½“cache.typeä¸º"redis"æ—¶ä½¿ç”¨)
  redis:
    host: "localhost"
    port: 6379
    db: 0
    password: null

# ==================== ä¸šåŠ¡é…ç½® ====================
business:
  # é£åœºé…ç½®
  wind_farms:
    "åèƒ½é£åœºA":
      turbines: ["A01", "A02", "A03", "A04", "A05"]
      location: "å†…è’™å¤"
      capacity: "2.0MW"
    "å¤§å”é£åœºB":
      turbines: ["B01", "B02", "B03", "B04", "B05"]
      location: "æ–°ç–†"
      capacity: "2.5MW"
    "å›½ç”µé£åœºC":
      turbines: ["C01", "C02", "C03", "C04", "C05"]
      location: "ç”˜è‚ƒ"
      capacity: "3.0MW"
  
  # CMSæµ‹ç‚¹é…ç½®
  measurement_points:
    - "1Xæ°´å¹³æŒ¯åŠ¨"
    - "1Yå‚ç›´æŒ¯åŠ¨"
    - "2Xæ°´å¹³æŒ¯åŠ¨"
    - "2Yå‚ç›´æŒ¯åŠ¨"
    - "3Xæ°´å¹³æŒ¯åŠ¨"
    - "3Yå‚ç›´æŒ¯åŠ¨"
  
  # æŒ¯åŠ¨æ•°æ®é…ç½®
  vibration:
    frequency_range: [0, 1000]  # Hz
    sampling_rate: 2048  # Hz
    data_length: 8192  # æ•°æ®ç‚¹æ•°
    alarm_levels:
      æ­£å¸¸: [0, 2.5]
      æ³¨æ„: [2.5, 6.3]
      è­¦å‘Š: [6.3, 10.0]
      å±é™©: [10.0, 999999]
  
  # æŠ¥å‘Šé…ç½®
  report:
    template_dir: "./data/templates"
    formats: ["docx", "pdf"]
    company_name: "é£ç”µè®¾å¤‡çŠ¶æ€ç›‘æµ‹ä¸­å¿ƒ"
    report_title: "CMSæŒ¯åŠ¨åˆ†ææŠ¥å‘Š"
    logo_path: null  # å¯é€‰ï¼šå…¬å¸logoè·¯å¾„
    auto_save: true
    include_charts: true
    include_raw_data: false

# ==================== å®‰å…¨é…ç½® ====================
security:
  # APIå¯†é’¥åŠ å¯†
  encrypt_api_keys: false
  encryption_key: "your-encryption-key-here"
  
  # æ–‡ä»¶ä¸Šä¼ é™åˆ¶
  file_upload:
    max_size: 100  # MB
    allowed_types: [".pdf", ".docx", ".txt", ".md", ".json"]
    scan_virus: false
  
  # è®¿é—®æ§åˆ¶
  access_control:
    enabled: false
    allowed_ips: ["127.0.0.1", "localhost"]
    rate_limit: 100  # æ¯åˆ†é’Ÿè¯·æ±‚æ•°é™åˆ¶

# ==================== å¼€å‘é…ç½® ====================
development:
  # è°ƒè¯•æ¨¡å¼
  debug: true
  
  # æ¨¡æ‹Ÿæ•°æ® (é»˜è®¤å…³é—­ï¼Œéœ€è¦ç”¨æˆ·æ˜ç¡®é€‰æ‹©)
  use_mock_data: false
  
  # æ€§èƒ½ç›‘æ§
  profiling: false
  
  # æµ‹è¯•é…ç½®
  testing:
    enabled: true
    test_data_dir: "./tests/data"
    mock_external_apis: true